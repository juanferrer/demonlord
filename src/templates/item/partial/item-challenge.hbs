{{!--
  Variables:
    - action (e.g. system.action)
      - defense
      - defenseboonsbanes
      - challengeRolls[]
        - attribute
        - boonsBanes
        - name
    - actionId (e.g. "system.action")
--}}

<div style="display: flex;
    flex-direction: column;
    width: 100%;
    align-content: flex-start;
    justify-content: flex-start;
    align-items: flex-start;">
  <b>{{localize "DL.ChallengeRequestRollText"}}</b>
  {{#if action.challengeRolls}}
    <div style="display: flex; flex-direction: column; align-items: flex-start; width: 100%">
    {{#each action.challengeRolls as |challenge id|}}
      <div style="display: flex; width: 100%">
        <textarea name="challengeRollName" style="height: 25px;">{{challenge.name}}</textarea>
        {{dlDropdown "challengeRollAttribute" challenge.attribute}}
        {{dlBOBAButton "challengeRollBoonsBanes" challenge.boonsBanes ""}}
        {{#if @first}}
          <a class="dl-clickable challengerolls-control" style="align-self: center;" data-tippy-content="{{localize "DL.ChallengeRollCreate"}}" data-action="create">
            <i class="fas fa-plus"></i>
          </a>
        {{else}}
          <a class="dl-clickable challengerolls-control" style="align-self: center;" data-tippy-content="{{localize "DL.ChallengeRollDelete"}}" data-action="delete" data-id="{{id}}">
            <i class="fas fa-minus"></i>
          </a>
        {{/if}}
      </div>
    {{/each}}
    </div>
  {{else}}
    <div style="display: flex; flex-direction: column; align-items: flex-start; width: 100%">
      <div style="display: flex; width: 100%">
        <textarea name="challengeRollName" style="height: 25px;">{{action.challengeRolls.0.name}}</textarea>
        {{dlDropdown "challengeRollAttribute" action.challengeRolls.0.attribute}}
        {{dlBOBAButton "challengeRollBoonsBanes" action.challengeRolls.0.boonsBanes ""}}
        <a class="dl-clickable challengerolls-control" style="align-self: center;" data-tippy-content="{{localize "DL.ChallengeRollCreate"}}" data-action="create">
          <i class="fas fa-plus"></i>
        </a>
      </div>
    </div>
  {{/if}}
</div>